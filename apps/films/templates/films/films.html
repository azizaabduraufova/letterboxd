{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Popular Films</title>
<link rel="stylesheet" href="{% static 'main.css' %}">
<style>
:root {
    --nav-height: 68px;
}

html, body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background-color: #121212;
    color: #eaeaea;
    padding-top: var(--nav-height);
}

nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--nav-height);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 40px;
    background: rgba(18, 18, 18, 0.95);
    color: #fc5b9b;
    z-index: 30;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
}

.nav-left { font-weight: 700; font-size: 1.6rem; color: #ff79b0; }
.nav-right { display: flex; align-items: center; gap: 14px; }
.nav-right a { color: #fc5b9b; text-decoration: none; padding: 6px 10px; border-radius: 6px; background: rgba(0,0,0,0.2);}
.search-bar { display: inline-flex; align-items: center; gap: 6px; }
.search-bar input { padding: 6px 8px; border-radius: 6px; border: none; background: #222; color: #eee; }

h1 { text-align: center; margin: 30px 0; font-size: 2rem; }

.container { max-width: 1400px; margin: 0 auto 60px; padding: 0 20px; }

.films {
    display: grid;
    grid-template-columns: repeat(6, 1fr); /* 6 per row */
    gap: 20px;
}

.film {
    background: #222;
    border-radius: 10px;
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
}

.film:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.7);
}

.film img {
    width: 100%;
    height: auto; /* full poster height, no cropping */
    display: block;
}

.film h3 {
    margin: 10px;
    font-size: 1rem;
    text-align: center;
}

.film p {
    margin: 0 10px 10px;
    font-size: 0.85rem;
    color: #ccc;
    text-align: center;
}

@media (max-width: 1400px) { .films { grid-template-columns: repeat(5, 1fr); } }
@media (max-width: 1200px) { .films { grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 992px) { .films { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 768px) { .films { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 500px) { .films { grid-template-columns: 1fr; } }
</style>
</head>
<body>

<nav>
    <div class="nav-left">Letterboxd</div>
    <div class="nav-right">
        <a href="#">Your Films</a>
        <a href="{% url 'profile' request.user.username %}">Profile</a>
        <a href="#">Sign Out</a>
        <div class="search-bar">
            <input type="text" placeholder="Search...">
            <button>üîç</button>
        </div>
    </div>
</nav>

<h1>Popular Films</h1>
<div class="container">
    <div class="films">
        {% for film in films %}
        <div class="film">
            {% if film.poster %}
                <a href="{% url 'film_detail' film.slug %}">
                    <img src="{{ film.poster }}" alt="{{ film.title }}">
                </a>
            {% else %}
                <div style="height:400px;background:#333;display:flex;align-items:center;justify-content:center;">
                    No Image
                </div>
            {% endif %}
            <h3>{{ film.title }}</h3>
            <p>{{ film.release_date }}</p>
        </div>
        {% endfor %}
    </div>
</div>

</body>
</html>
